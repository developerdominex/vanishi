<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Hybrid â€” Chat</title>
<link rel="icon" href="hybrid.png" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<link rel="stylesheet" href="home.css">
</head>
<body>
  
<!-- Video/Voice Call Dialog -->
<div id="callDialog" class="call-dialog" style="display:none;">
  <div class="call-header">
    <div class="peer-info">
      <img id="callPeerAvatar" src="" alt="avatar">
      <span id="callPeerName">Calling...</span>
    </div>
    <button class="icon-btn" id="callCloseBtn"><i class="fas fa-times"></i></button>
  </div>

  <div class="call-body">
    <video id="remoteVideo" autoplay playsinline></video>
    <video id="localVideo" autoplay playsinline muted></video>
    <div id="incomingActions" class="incoming-actions" style="display:none;">
      <button id="acceptCallBtn" class="accept-btn"><i class="fas fa-phone"></i> Accept</button>
      <button id="declineCallBtn" class="decline-btn"><i class="fas fa-phone-slash"></i> Decline</button>
    </div>
  </div>

  <div class="call-actions" style="display:none;">
    <button id="muteBtn" class="icon-btn"><i class="fas fa-microphone"></i></button>
    <button id="cameraBtn" class="icon-btn"><i class="fas fa-video"></i></button>
    <button id="switchBtn" class="icon-btn"><i class="fas fa-camera"></i></button>
    <button id="hangupBtn" class="icon-btn end-call"><i class="fas fa-phone-slash"></i></button>
  </div>
</div>

<div id="onlineDialog" class="dialog" style="display:none;">
  <div class="dialog-content">
    <div class="dialog-header">
      <h3>Online Users</h3>
      <button class="icon-btn" id="closeDialog"><i class="fas fa-times"></i></button>
    </div>
    <div id="onlineList" class="dialog-list"></div>
  </div>
</div>
  <button id="startBtn" class="icon-btn start-icon" title="Start">
  <i class="fas fa-play"></i>
</button>

<div class="app" id="app">
  <div class="panel" id="sidebar">
    <div class="header">
      <div style="display:flex;flex-direction:column">
        <div class="title">Hybrid</div>
        <div class="subtitle">messaging</div>
      </div>
    </div>
    <div class="search">
      <input id="search" placeholder="Search people or paste id..." autocomplete="off">
      <button class="icon-btn" id="addBtn" title="Add by ID"><i class="fas fa-user-plus"></i></button>
    </div>
    <div class="list" id="contacts"></div>
    <div style="padding:12px;border-top:1px dashed rgba(15,23,42,0.04);display:flex;gap:8px;align-items:center;justify-content:space-between">
      <div style="display:flex;gap:8px;align-items:center">
        <img id="myAvatar" src="" style="width:42px;height:42px;border-radius:50%;object-fit:cover">
        <div style="font-size:13px;color:#071133;font-weight:600" id="myName"></div>
      </div>
      <button id="logout" class="icon-btn" style="background:#fff;color:#ef4444;border-radius:10px;"><i class="fas fa-right-from-bracket"></i></button>
    </div>
  </div>
  <div class="chat" id="chat">
    <div class="top">
      <img id="peerAvatar" src="" alt="avatar" style="display:none">
      <div class="who">
        <div class="n" id="peerName">Select a contact</div>
        <div class="s" id="peerStatus"></div>
      </div>
      <div class="chat-actions" id="chatActions" style="display:none">
        <button class="icon-btn" id="videoCallBtn"><i class="fas fa-video"></i></button>
        <button class="icon-btn" id="audioCallBtn"><i class="fas fa-phone"></i></button>
      </div>
    </div>

    <div class="body" id="chatBody">
      <div class="placeholder" id="placeholder">Select a contact to start chatting.</div>
      <div class="messages" id="messages" style="display:none"></div>
    </div>
    <div class="composer">
      <div class="input">
        <input id="messageInput" placeholder="Type a message..." autocomplete="off">
      </div>
      <button class="icon-btn" id="attach"><i class="fas fa-paperclip"></i></button>
      <button class="send" id="sendBtn"><i class="fas fa-paper-plane"></i></button>
    </div>
  </div>
</div>

<script type="module" src="home.js"></script>
</body>
</html>

